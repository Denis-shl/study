//Проверить случай когда некоторые # надо смещать с положительной разницой, а не которые с отрицательной

Сделать динамической переменную difference, т.к. может возникнуть случай:

.#..        .#..
.#..        .#..
##..        ##..
....        ....

Значение переменной pos будет = 0, а значение coor[0] = 1, следовательно difference = 1 - 0 = 1, но фигура туда не поместиться.
Значит нужно менять значение pos, оно станет равно 3, а coor[0] так и останется = 1, следовательно difference должно поменяться, а также сменить
знак
